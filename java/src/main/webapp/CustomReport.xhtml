<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:t="http://myfaces.apache.org/tomahawk">


<h:head>
    <h:outputStylesheet name="css/basic.css"/>
    <h:outputStylesheet name="css/CustomReport.css"/>
    <h:outputScript library="javascript" name="common.js"/>
</h:head>        

<body>
<f:view>

    <t:div id="waitingDiv" styleClass="waitingDiv"><img class="hugeSpinnerCentered" src='images/huge-spinner.gif'/></t:div>
    
    <h:form id="reportSelectionForm">
	    <h:selectOneMenu onchange="showWaitingDiv();" id="reportsMenu" value="#{customReport.reportName}" >
	        <f:selectItem noSelectionOption="true" itemLabel="Select Custom Report..."/>
	        <f:selectItems value="#{customReport.reportNamesMap}"/>
	        <f:ajax execute="@this" listener="#{customReport.reportSelected}" render="reportContentGroup"/>
	    </h:selectOneMenu>
    </h:form>

    <h:panelGroup id="reportContentGroup">
       <iframe onload="hideWaitingDiv();" frameBorder="0" id="reportContentFrame" width="100%" height="763px" src="#{customReport.reportUrl}"/>
    </h:panelGroup>

</f:view>
</body>

</html>