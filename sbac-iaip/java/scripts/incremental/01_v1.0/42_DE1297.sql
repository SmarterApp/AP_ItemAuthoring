
CREATE OR REPLACE VIEW `item_report_view` AS select `item`.`ib_id` AS `ItemBankId`,`item_bank`.`ib_external_id` AS `ItemBankExternalId`,`item`.`i_external_id` AS `ItemExternalId`,`ic_content_area`.`ic_value` AS `ContentAreaId`,ifnull(`content_area`.`ca_name`,_latin1'') AS `ContentAreaName`,ifnull(`grade_level_as_str`(`ic_grade_level`.`ic_value`),_latin1'') AS `GradeLevel`,ifnull(`grade_level_as_str`(`ic_grade_from`.`ic_value`),_latin1'') AS `GradeFrom`,ifnull(`grade_level_as_str`(`ic_grade_to`.`ic_value`),_latin1'') AS `GradeTo`,if(((`ic_grade_from`.`ic_value` >= 0) or (`ic_grade_to`.`ic_value` >= 0)),ifnull(concat(`grade_level_as_str`(`ic_grade_from`.`ic_value`),_latin1' - ',`grade_level_as_str`(`ic_grade_to`.`ic_value`)),_latin1''),_latin1'') AS `GradeSpan`,ifnull(`item_format`.`itf_name`,_latin1'') AS `ItemFormatName`,ifnull(`dev_state`.`ds_name`,_latin1'') AS `DevStateName`,ifnull(`difficulty`.`d_name`,_latin1'') AS `DifficultyName`,ifnull(`publication_status`.`ps_name`,_latin1'') AS `PublicationStatusName`,ifnull(`user`.`u_username`,_latin1'') AS `ItemWriter`,ifnull(`item`.`i_readability_index`,_latin1'') AS `ReadabilityIndex`,ifnull(`item`.`i_description`,_latin1'') AS `ItemDescription` from ((((((((((((`item` join `item_bank` on((`item`.`ib_id` = `item_bank`.`ib_id`))) left join `item_characterization` `ic_content_area` on(((`item`.`i_id` = `ic_content_area`.`i_id`) and (`ic_content_area`.`ic_type` = 2)))) left join `content_area` on((`ic_content_area`.`ic_value` = `content_area`.`ca_id`))) left join `item_characterization` `ic_grade_level` on(((`item`.`i_id` = `ic_grade_level`.`i_id`) and (`ic_grade_level`.`ic_type` = 3)))) left join `item_characterization` `ic_grade_from` on(((`item`.`i_id` = `ic_grade_from`.`i_id`) and (`ic_grade_from`.`ic_type` = 5)))) left join `item_characterization` `ic_grade_to` on(((`item`.`i_id` = `ic_grade_to`.`i_id`) and (`ic_grade_to`.`ic_type` = 6)))) left join `item_format` on((`item`.`i_format` = `item_format`.`itf_id`))) left join `dev_state` on((`item`.`i_dev_state` = `dev_state`.`ds_id`))) left join `difficulty` on((`item`.`i_difficulty` = `difficulty`.`d_id`))) left join `publication_status` on((`item`.`i_publication_status` = `publication_status`.`ps_id`))) left join `user` on((`user`.`u_id` = `item`.`i_author`))));

